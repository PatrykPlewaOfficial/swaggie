export class ApiServices {
  public static bootstrap(moduleName: string, baseUrl: string) {
    angular
      .module(moduleName)
      .constant('Api<%- servicePrefix -%>BaseUrl', baseUrl)
<%_ clients.forEach(function(client) { _%>
      .service('<%- client.fileName %>Service', <%- client.fileName %>Service)
<%_ }); _%>;
  }
}

function serializeQueryParam(obj: any, property: string) {
  if (obj === null || obj === undefined) return '';
  if (obj instanceof Date) return property + '=' + encodeURIComponent(obj.toJSON());
  if (typeof obj !== 'object' || Array.isArray(obj)) return property + '=' + encodeURIComponent(obj);
  return Object.keys(obj)
    .reduce((a: any, b) => a.push(encodeURIComponent(property + '.' + b) + '=' + encodeURIComponent(obj[b])) && a, [])
    .join('&');
}
